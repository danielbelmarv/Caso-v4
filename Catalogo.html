<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="css/main.css">

    <title>  Jardin de Todos &#127803;</title>

  </head>

<body>
  
<!-- NAVBAR-->
<nav class="navbar navbar-expand-lg 
      navbar-light bg-light p-2" >
  <div class="container-fluid">

        <a class="navbar-brand p-2" id="menu"> </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

        <!--Inicio Secciones en containers de NavBar-->
    <section class="container-fluid">
      <div class="row">
                
            <!--Logo-->
            <div class="col">
              <a href="indexV3.html">
                <button type="button" class="btn btn-outline-light">
              <img src="img/icono.jpg" alt="LOGO Jardin de Todos" width="140" height="65" >
                </button>
              </a>
            </div>

            <!--Button Bar-->
            <div class="col">
              <div class="btn-group  p-3 mx-3" role="group" aria-label="Basic outlined example">
                <button type="button" class="btn btn-outline-primary btn-lg" href="#" >Maceteros</button>
                <button type="button" class="btn btn-outline-primary btn-lg" href="#" >Tierra</button>
                <button type="button" class="btn btn-outline-primary btn-lg" href="# ">Flores</button>
                <button type="button" class="btn btn-outline-primary btn-lg" href="# ">Arbustos</button>
              </div>
            </div>
         
          <!--Search Bar-->
          <div class="col">
            <form class="d-flex p-3 ">
              <input class="form-control me-2" type="search" placeholder="Busca tu Producto de Tierra y Jardín favorito…" aria-label="Buscar">
              <button class="btn btn-outline-success btn-lg" type="submit">¡Encontrar!</button>
            </form>
          </div>

          <!--Botones Link-->
          <div class="col">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto  mb-2 mb-lg-0">
           
                      <li class="nav-item">
                        <a href="CarroComprasV2.html">
                          <button type="button" class="btn btn-outline-secondary ">
                            <img src="img/MiCarr.png" alt="Mi Carrito" height="59" >
                          </button>
                        </a>
                      </li>

                      <li class="nav-item">
                        <a href="MiCuentaV2.html">
                          <button type="button" class="btn btn-outline-secondary">
                           <img src="img/MiCue.png" alt="Mi Cuenta" height="59">
                          </button>
                        </a>
                    </li>

                    <li class="nav-item">
                      <a href="MiPedidoV2.html">
                        <button type="button" class="btn btn-outline-secondary">
                         <img src="img/MiPed.png" alt="Mi Pedido" height="59" >
                       </button>
                    </a>
                    </li>

                    <li class="nav-item">
                      <a href="MiCuenta.html">
                        <button type="button" class="btn btn-outline-secondary">
                         <img src="img/Descuent.png" alt="Descuentos" height="59">
                      </a>
                        </button>
                    </li>

              </ul>
            </div>
          </div>

      </div>
    </section>
  </div>
</nav>
<!--Fin Secciones en containers de NavBar-->

<!--Catalogo de Productos-->

<section class="container-fluid">

  <div class="row">

      <div class="col text-center">
        <a href="Catalogo.html">
          <button type="button" class="btn btn-outline-light mt-3 ">
            <img src="img/1 Macetero y Plato Bio.png" alt="Macetero 1"  width="150" height="152" >
          </button>
        </a>
        <h5>Macetero y Plato Biodegradable<h5>
        <h4>$ 4.990</h4>
        <button type="button" class="btn btn-success" name="btnAgregar" id="btnAgregar">Agregar</button>
      </div>

      <div class="col text-center">
        <a href="Catalogo.html">
          <button type="button" class="btn btn-outline-light mt-3 ">
            <img src="img/2 Macetero Auto.png" alt="Macetero 2"  width="150" height="152" >
          </button>
        </a>
        <h5>Macetero Autoregante<h5>
          <h4>$ 29.990</h4>
          <button type="button" class="btn btn-success" name="btnAgregar" id="btnAgregar">Agregar</button>
      </div>

      <div class="col text-center">
        <a href="Catalogo.html">
          <button type="button" class="btn btn-outline-light mt-3 ">
            <img src="img/3 Macetero Barril.png" alt="Macetero 3"  width="150" height="152" >
          </button>
        </a>
        <h5>Macetero Barril<h5>
          <h4>$ 14.990</h4>
          <button type="button" class="btn btn-success" name="btnAgregar" id="btnAgregar">Agregar</button>
      </div>

      <div class="col text-center">
        <a href="Catalogo.html">
          <button type="button" class="btn btn-outline-light mt-3 ">
            <img src="img/4 Macetero Fibra Tall.png" alt="Macetero 4"  width="150" height="152" >
          </button>
        </a>
        <h5>Macetero Fibra Alto<h5>
          <h4>$ 19.990</h4>
          <button type="button" class="btn btn-success" name="btnAgregar" id="btnAgregar">Agregar</button>
      </div>

  </div>


  <div class="row">

    <div class="col text-center">
      <a href="Catalogo.html">
        <button type="button" class="btn btn-outline-light mt-3 ">
          <img src="img/1 Macetero y Plato Bio.png" alt="Macetero 1"  width="150" height="152" >
        </button>
      </a>
      <h5>Macetero y Plato Biodegradable<h5>
      <h4>$ 4.990</h4>
      <button type="button" class="btn btn-success" name="btnAgregar" id="btnAgregar">Agregar</button>
    </div>
  </div>

</section>

<!--Formulario de Ejemplo-->
<div class="container-fluid">
  <div class="row gy-2 gx-3 align-items-center">
      <form class="form-group">
          <div class="col-md-2">
              <label for="txtNombre" class="form-label">Nombre Personaje</label>
              <input type="text" class="form-control" id="txtNombre" aria-describedby="emailHelp">
          </div>
          <div class="col-md-2">
              <label for="slClase" class="form-label">Clase</label>
              <select class="form-select" id="slClase">
                  <option selected>Selecciona una clase</option>
                  <option>Guerrero</option>
                  <option>Paladin</option>
                  <option>Picaro</option>
                  <option>Cazador</option>
                  <option>Sacerdote</option>
                  <option>Brujo</option>
                  <option>Mago</option>
                  <option>Druida</option>
                  <option>Chaman</option>
              </select>
          </div>
          <div class="col-md-2">
              <label for="radioGenero" class="form-label">Genero</label>
              <div class="form-check">
                  <input class="form-check-input" type="radio" value="Masculino" name="radioGenero"
                      id="radioGenero">
                  <label class="form-check-label" for="radioGenero1">
                      Masculino
                  </label>
              </div>
              <div class="form-check">
                  <input class="form-check-input" type="radio" value="Femenino" name="radioGenero"
                      id="radioGenero">
                  <label class="form-check-label" for="radioGenero2">
                      Femenino
                  </label>
              </div>
          </div>
          <div class="col-md-2">
              <label for="slcObjeto" class="form-label">Objeto Opcional</label>
              <select class="form-select" id="slcObjeto">
                  <option selected>Selecciona una objeto</option>
                  <option>Pocion Salvaje</option>
                  <option>Llave Eterna</option>
                  <option>Bomba negra</option>
                  <option>Polvo Arcano</option>
                  <option>Perla brillante</option>
              </select>
          </div>
          <div class="col-md-2">
              <label for="slClase" class="form-label">Modalidad</label>
              <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="chkDiff1">
                  <label class="form-check-label" for="chkDiff1">
                      Modo Hardcore
                  </label>
              </div>
              <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="chkDiff2">
                  <label class="form-check-label" for="chkDiff2">
                      Modo Extremo
                  </label>
              </div>
          </div>

          <div class="col-md-10">
              <table class="table table-dark table-hover table-responsive" hidden id="tabla1">
                  <thead>
                      <tr>
                          <th>#</th>
                          <th>Nombre</th>
                          <th>Clase</th>
                          <th>Genero</th>
                          <th>Objeto</th>
                          <th>Modalidad</th>
                          <th>Eliminar</th>
                          <th>Modificar</th>
                      </tr>
                  </thead>
                  <tbody name="personajes" id="personajes">

                  </tbody>
              </table>
          </div>
          <button type="button" class="btn btn-success" name="btnAgregar" id="btnAgregar">Agregar</button>
          <button type="button" class="btn btn-success" name="btnListar" id="btnListar">Listar</button>
          <button type="reset" class="btn btn-warning" name="btnClean" id="btnClean">Limpiar</button>

      </form>
  </div>
</div>

</body>

<script>
//Creacion de objeto JSON
num = 1;

var lista = [];

//Agregar
$("#btnAgregar").click(function () {
  //Declaracion y estructura JSON
  //var personaje <-- nombre variable que usaremos para almacenar el JSON
  //{} <--- Llave apertura y cierre JSON 
  // "primer valor" <-- Nombre que asignareoms para el atributo dentro del JSON
  // : <-- simbolo igual para JSON
  // "segundo valor" <-- es el valor el atributo dentro del JSON|
  var personaje = {
      "ID": 0,
      "nombre": "",
      "clase": "",
      "genero": "",
      "objeto": "",
      "modalidad": []
  }


  personaje.ID = num;
  personaje.nombre = $("#txtNombre").val();
  personaje.clase = $("#slClase").val();
  personaje.genero = $('input:radio[name=radioGenero]:checked').val();
  personaje.objeto = $("#slcObjeto").val();
  if ($("#chkDiff1").is(":checked")) {
      personaje.modalidad.push("Hardcore");
  }
  if ($("#chkDiff2").is(":checked")) {
      personaje.modalidad.push("Extremo");
  }
  //console.log(personaje);

  lista.push(personaje);
  num++;
});
//Listar
$("#btnListar").click(function () {
  $("#tabla1").removeAttr("hidden");
  $("#personajes").empty();

  $.each(lista, function (i, item) {

      var diff = "";

      item.modalidad.forEach(x => {
          diff = diff + x + " ";
      });
      $("#personajes").append("<tr><td>" +
          item.ID + "</td><td>" +
          item.nombre + "</td><td>" +
          item.clase + "</td><td>" +
          item.genero + "</td><td>" +
          item.objeto + "</td><td>" +
          diff + "</td><td>" +
          "<button type='button' class='btn btn-warning btnBorrar' id='btnBorrar' >Eliminar</button>" + "</td><td>" +
          "<button type='button' class='btn btn-info' id='btnModificar' >Modificar</button>" + "</td></tr>"
      );
      console.log(item);
  });
});
//Borrar
$("#personajes").on("click", "#btnBorrar", function () {
  var fila = $(this).closest("tr");
  var data = fila.find("td:eq(0)").text();
  for (let i = 0; i < lista.length; i++) {
      if (lista[i].ID == data) {
          lista.splice(i, 1);
      }
  }
});

//Modificar
$("#personajes").on("click", "#btnModificar", function () {
  var fila = $(this).closest("tr");
  var data = fila.find("td:eq(0)").text();
  lista.forEach(item => {
      console.log("ID lista: " + item.ID + " || " + "ID objeto" + data)
      if (item.ID == data) {
          $("#txtNombre").val(item.nombre);
          $("#slClase").val(item.clase);
          $("input:radio[name=radioGenero][value=" + item.genero + "]").prop('checked', true);
          $("#slcObjeto").val(item.objeto);
          if (item.modalidad[0] == "Hardcore") {
              $("#chkDiff1").prop('checked', true);
              if (item.modalidad[1] == "Extremo") {
                  $("#chkDiff2").prop('checked', true);
              } else {
                  $("#chkDiff2").prop('checked', false);
              }
          } else if (item.modalidad[0] == "Extremo") {
              $("#chkDiff2").prop('checked', true);
              $("#chkDiff1").prop('checked', false);

          } else {
              $("#chkDiff1").prop('checked', false);
              $("#chkDiff2").prop('checked', false);
          }
      }
  });
})
//Limpiar Formulario
$("#btnClean").click(function () {
  $("#tabla1").prop("hidden", true);
});

</script>

<!--Footer-->
<div class="wrapper">
</div>
<footer class= "footer text-center fs-3 text mt-2">
    <a href="#" class="link-primary">NOSOTROS | </a>
    <a href="#" class="link-primary"> COLABORA |</a>
    <a href="#" class="link-primary"> SUSTENTABILIDAD |</a>
    <a href="#" class="link-primary"> CONTACTANOS |</a>
</footer>

    </body>
</html>